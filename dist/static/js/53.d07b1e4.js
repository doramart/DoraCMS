webpackJsonp([53],{167:function(t,e,n){var a=n(5)(n(692),n(778),null,null,null);t.exports=a.exports},692:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(93);e.default={props:{dataList:Array,pageInfo:Object},data:function(){return{loading:!1,multipleSelection:[]}},methods:{handleMsgSelectionChange:function(t){if(t&&t.length>0){var e=t.map(function(t,e){return t._id});this.multipleSelection=e,this.$emit("changeMsgSelectList",e)}},replyContentMessage:function(t,e){var n=e[t];this.$store.dispatch("showContentMessageForm",{edit:!0,parentformData:n})},deleteContentMessage:function(t,e){var n=this;this.$confirm(this.$t("main.del_notice"),this.$t("main.scr_modal_title"),{confirmButtonText:this.$t("main.confirmBtnText"),cancelButtonText:this.$t("main.cancelBtnText"),type:"warning"}).then(function(){return a.a.deleteContentMessage({ids:e[t]._id})}).then(function(t){200===t.data.status?(n.$store.dispatch("getContentMessageList",n.pageInfo),n.$message({message:n.$t("main.scr_modal_del_succes_info"),type:"success"})):n.$message.error(t.data.message)}).catch(function(t){n.$message({type:"info",message:n.$t("main.scr_modal_del_error_info")+t})})}}}},778:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{align:"center",data:t.dataList,"tooltip-effect":"dark"},on:{"selection-change":t.handleMsgSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"contentId.stitle",label:t.$t("contentMessage.stitle"),width:"200"}}),t._v(" "),n("el-table-column",{attrs:{prop:"content",label:t.$t("contentMessage.content"),width:"280","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("cutWords")(e.row.content,20)))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"author",label:t.$t("contentMessage.author")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("0"===e.row.utype?e.row.author?e.row.author.userName:t.$t("contentMessage.nimin"):e.row.adminAuthor?e.row.adminAuthor.userName:""))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"replyAuthor",label:t.$t("contentMessage.replyAuthor")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.replyAuthor?e.row.replyAuthor.userName:e.row.adminReplyAuthor?e.row.adminReplyAuthor.userName:""))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"date",label:t.$t("contentMessage.date")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.date))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("main.dataTableOptions"),width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary",plain:"",round:""},on:{click:function(n){t.replyContentMessage(e.$index,t.dataList)}}},[n("i",{staticClass:"fa fa-mail-reply",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger",plain:"",round:"",icon:"el-icon-delete"},on:{click:function(n){t.deleteContentMessage(e.$index,t.dataList)}}})]}}])})],1)],1)},staticRenderFns:[]}}});